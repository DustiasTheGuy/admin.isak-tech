<section>
    {{ if .Error }}
    <div class="alert alert-danger" role="alert">
        <p>{{ .Error }}</p>
    </div>
    {{ end }}

    {{ if .Success }}
        <div class="alert alert-success" role="alert">
            <p>{{ .Success }}</p>
        </div>
    {{ end }}
</section>

<section class="post-section">
    <form>
        <div class="mb-3">
          <label class="form-label" for="title">Title</label>
          <input type="text" class="form-control" id="title" value="{{ .Post.Title }}">
        </div>
        <div class="mb-3">
          <label class="form-label" for="body">Body</label>
          <textarea type="text" class="form-control" id="body">{{ .Post.Post }}</textarea>
        </div>
        <div class="mb-3">
          <label class="form-label" for="imageurl">Image URL</label>
          <input type="text" class="form-control" id="imageurl" value="{{ .Post.ImageURL }}">
        </div>
        <div class="mb-3">
            <label class="form-label">Category</label>
            <select class="form-control" name="" id="category">
                <option value="Articles">Articles</option>
                <option value="News">News</option>
                <option value="Product Reviews">Product Reviews</option>
                <option value="Guides">Guides</option>
                <option value="Uncategorized">Uncategorized</option>
            </select>
            <div class="form-text">Current Category: {{ .Post.Category }}</div>
        </div>
    
        <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="archived">
            <label class="form-check-label">Archived</label>
        </div>
    
        <div class="hidden">
            <span id="post-id">{{ .Post.ID }}</span>
            <span id="archived-hidden">{{ .Post.Archived }}</span>
        </div>
    
        <div class="button-group">
            <button onclick="deletePostSubmit(this)" data-id="{{ .Post.ID }}" type="button" class="btn btn-danger">Delete</button>
            <button onclick="updatePostSubmit()" type="button" class="btn btn-primary">Save</button>
        </div>
    </form>
</section>
<script>
    (function() {
        document.getElementById('archived').checked = 
        parseInt(document.getElementById('archived-hidden').textContent) === 1 
        ? true : false;
    })();
</script>